* testing my api routes

** index route

#+BEGIN_SRC restclient
GET http://localhost:3000/api
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
<h1>This is the index page!</h1>
// GET http://localhost:3000/api
// HTTP/1.1 200 OK
// Date: Thu, 18 May 2023 05:47:42 GMT
// Transfer-Encoding: chunked
// Server: Jetty(9.4.31.v20200723)
// Request duration: 0.151829s
#+END_SRC

** not found route
#+BEGIN_SRC restclient
GET http://localhost:3000/api/not-found
#+END_SRC



** users routes
*** register users
#+BEGIN_SRC  restclient
POST http://localhost:3000/api/users/register
Content-Type: application/json
{
      "username": "Davin",
      "email": "Davin@harikar.org",
      "password": "davindav"
}
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "type": "exception",
  "class": "com.mysql.cj.jdbc.exceptions.CommunicationsException"
}
// POST http://localhost:3000/api/users/register
// HTTP/1.1 500 Server Error
// Date: Thu, 18 May 2023 05:49:17 GMT
// Content-Type: application/json;charset=utf-8
// Content-Length: 83
// Server: Jetty(9.4.31.v20200723)
// Request duration: 0.506360s
#+END_SRC


*** login users
#+BEGIN_SRC  restclient
POST http://localhost:3000/api/users/login
Content-Type: application/json
{
      "email": "davin@harikar.org",
      "password": "davindav"
}
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "user": {
    "id": "2f08684e-5634-4647-922c-bcbeb61d383a",
    "username": "Davin",
    "email": "Davin@harikar.org",
    "phone_number": null,
    "roles": []
  },
  "token": "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6IjJmMDg2ODRlLTU2MzQtNDY0Ny05MjJjLWJjYmViNjFkMzgzYSIsInVzZXJuYW1lIjoiRGF2aW4iLCJlbWFpbCI6IkRhdmluQGhhcmlrYXIub3JnIiwicGhvbmVfbnVtYmVyIjpudWxsLCJyb2xlcyI6W119.hutZ3QOw_5-xPcb34mZfuDzJfD0UUzOu7JLRZ8GZVfw"
}
// POST http://localhost:3000/api/users/login
// HTTP/1.1 200 OK
// Date: Thu, 18 May 2023 05:50:32 GMT
// Content-Type: application/json;charset=utf-8
// Set-Cookie: Token=eyJhbGciOiJIUzI1NiJ9.eyJpZCI6IjJmMDg2ODRlLTU2MzQtNDY0Ny05MjJjLWJjYmViNjFkMzgzYSIsInVzZXJuYW1lIjoiRGF2aW4iLCJlbWFpbCI6IkRhdmluQGhhcmlrYXIub3JnIiwicGhvbmVfbnVtYmVyIjpudWxsLCJyb2xlcyI6W119.hutZ3QOw_5-xPcb34mZfuDzJfD0UUzOu7JLRZ8GZVfw;Path=/api
// Content-Length: 372
// Server: Jetty(9.4.31.v20200723)
// Request duration: 0.308211s
#+END_SRC


*** get users
#+BEGIN_SRC restclient
GET http://localhost:3000/api/users
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "users": [
    {
      "id": "2f08684e-5634-4647-922c-bcbeb61d383a",
      "username": "Davin",
      "email": "Davin@harikar.org"
    },
    {
      "id": "a384fee3-f4a0-456c-aad7-f43b8e02c323",
      "username": "Jona",
      "email": "jona@email.org"
    },
    {
      "id": "ffc5556a-d6f2-49f1-afdc-88f6071f011a",
      "username": "Ron",
      "email": "ron@harikar.org"
    }
  ]
}
// GET http://localhost:3000/api/users
// HTTP/1.1 200 OK
// Date: Thu, 18 May 2023 05:50:57 GMT
// Content-Type: application/json;charset=utf-8
// Content-Length: 282
// Server: Jetty(9.4.31.v20200723)
// Request duration: 0.061011s
#+END_SRC
